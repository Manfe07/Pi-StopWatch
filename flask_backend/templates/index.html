<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
				<link href="../static/css/main.css" rel="stylesheet" type="text/css">
				<title>Stopwatch</title>
		<!--The following script tag downloads a font from the Adobe Edge Web Fonts server for use within the web page. We recommend that you do not modify it.-->
		<script>var __adobewebfontsappname__="dreamweaver"</script>   
		<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
		<script src="http://use.edgefonts.net/allerta:n4:default;carme:n4:default.js" type="text/javascript"></script>
	</head>
    <body id="mainpage">
		<h1 align="center">Stopwatch</h1>
		<div class="container" align="center">
			<p>
			Startzeit: <a id="start_time">00:00:00:00:00</a><br>
			Laufzeit: <a id="runtime_time">00:00:00:00:00</a><br>
			Dauer: <a id="duration">00:00:00:00:00</a></p><br>
		</div>	
		<div class="container" align="center">
			<p>
				<a class="button_indicator" id="button_1">Button 1</a>
				<a class="button_indicator" id="button_2">Button 2</a>
				<a class="button_indicator" id="button_3">Button 3</a>
			</p>
			<p>IP: <a id="ip_adress">255.255.255.255</a></p>
		</div>
		</body>
	<script>
		function refresh_duration(){
			$.getJSON('http://time.jsontest.com', function(data) {
				document.getElementById("duration").innerHTML = data.time;
				});
			return 0
		}
		function get_IP(){
			$.getJSON('http://127.0.0.1:1337/get_ip', function(data) {
				document.getElementById("ip_adress").innerHTML = data.ip;
				});
			return 0
		}
		function refresh_IO(){
			$.getJSON('http://127.0.0.1:1337/data', function(data) {
				button1 = document.getElementById("button_1");
				button2 = document.getElementById("button_2");
				button3 = document.getElementById("button_3");

				if(data.Button_1 == true){button1.style.background = "red"} else {button1.style.background = "lime";}
				if(data.Button_2 == true){button2.style.background = "red"} else {button2.style.background = "lime";}
				if(data.Button_3 == true){button3.style.background = "red"} else {button3.style.background = "lime";}
				});
			return 0
		}
		setInterval(refresh_duration,1000);
		setInterval(refresh_IO,1000);
		setInterval(get_IP,1100)
	</script>		
</html>